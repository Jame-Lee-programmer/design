function dt_custom_view(e,t,i,n){var a;a=void 0===i?"custom_view":i,void 0!==n&&($("._filters input").val(""),$("._filter_data li.active").removeClass("active"));do_filter_active(a)!=a&&(e=""),$('input[name="'+a+'"]').val(e)}function do_filter_active(e,t){if(""!=e&&void 0!==e){$('[data-cview="all"]').parents("li").removeClass("active");var i=$('[data-cview="'+e+'"]');if(void 0!==t&&(i=$(t+' [data-cview="'+e+'"]')),i.parents("li").not(".dropdown-submenu").hasClass("active")){i.parents("li").not(".dropdown-submenu").removeClass("active");var n=i.parents("li.dropdown-submenu");n.length>0&&0==n.find("li.active").length&&n.removeClass("active"),e=""}else i.parents("li").addClass("active");return e}return $("._filters input").val(""),$("._filter_data li.active").removeClass("active"),$('[data-cview="all"]').parents("li").addClass("active"),""}$(window).load(function(){$("#loader-wrapper").delay(250).fadeOut(function(){$("#loader-wrapper").remove()})}),function(e,t,i,n){i(function(){i('[data-toggle="popover"]').popover(),i(".offsidebar.hide").removeClass("hide"),i('[data-toggle="tooltip"]').tooltip({container:"body"}),i(".dropdown input").on("click focus",function(e){e.stopPropagation()})})}(window,document,window.jQuery),function(e,t,i){"use strict";e(i).on("click","[data-reset-key]",function(i){i.preventDefault();var n=e(this).data("resetKey");n?(e.localStorage.remove(n),t.location.reload()):e.error("No storage key specified for reset.")})}(jQuery,window,document),function(e,t,i,n){e.APP_COLORS={primary:"#5d9cec",success:"#27c24c",info:"#23b7e5",warning:"#ff902b",danger:"#f05050",inverse:"#131e26",green:"#37bc9b",pink:"#f532e5",purple:"#7266ba",dark:"#3a3f51",yellow:"#fad732","gray-darker":"#232735","gray-dark":"#3a3f51",gray:"#dde6e9","gray-light":"#e4eaec","gray-lighter":"#edf1f2"},e.APP_MEDIAQUERY={desktopLG:1200,desktop:992,tablet:768,mobile:480}}(window,document,window.jQuery),function(e,t,i,n){var a,o,r,s;function l(e){e.siblings("li").removeClass("open").end().toggleClass("open")}function d(){i(".sidebar-subnav.nav-floating").remove(),i(".dropdown-backdrop").remove(),i(".sidebar li.open").removeClass("open")}function c(){return r.hasClass("aside-hover")}i(function(){a=i(e),o=i("html"),r=i("body"),s=i(".sidebar"),APP_MEDIAQUERY;var t=s.find(".collapse");t.on("show.bs.collapse",function(e){e.stopPropagation(),0===i(this).parents(".collapse").length&&t.filter(".in").collapse("hide")});var n=i(".sidebar .active").parents("li");c()||n.addClass("active").children(".collapse").collapse("show"),s.find("li > a + ul").on("show.bs.collapse",function(e){c()&&e.preventDefault()});var u=o.hasClass("touch")?"click":"mouseenter",m=i();s.on(u,".nav > li",function(){(r.hasClass("aside-collapsed")||c())&&(m.trigger("mouseleave"),m=function(e){d();var t=e.children("ul");if(!t.length)return i();if(e.hasClass("open"))return l(e),i();var n=i(".aside"),o=i(".aside-inner"),c=parseInt(o.css("padding-top"),0)+parseInt(n.css("padding-top"),0),u=t.clone().appendTo(n);l(e);var m=e.position().top+c-s.scrollTop(),f=a.height();return u.addClass("nav-floating").css({position:r.hasClass("layout-fixed")?"fixed":"absolute",top:m,bottom:u.outerHeight(!0)+m>f?0:"auto"}),u.on("mouseleave",function(){l(e),u.remove()}),u}(i(this)),i("<div/>",{class:"dropdown-backdrop"}).insertAfter(".aside").on("click mouseenter",function(){d()}))}),void 0!==s.data("sidebarAnyclickClose")&&i(".wrapper").on("click.sidebar",function(e){if(r.hasClass("aside-toggled")){var t=i(e.target);t.parents(".aside").length||t.is("#user-block-toggle")||t.parent().is("#user-block-toggle")||r.removeClass("aside-toggled")}})})}(window,document,window.jQuery),function(e,t,i,n){i(function(){var t=i("body");toggle=new StateToggler,i("[data-toggle-state]").on("click",function(n){n.stopPropagation();var a=i(this),o=a.data("toggleState"),r=a.data("target"),s=void 0!==a.attr("data-no-persist"),l=r?i(r):t;o&&(l.hasClass(o)?(l.removeClass(o),s||toggle.removeState(o)):(l.addClass(o),s||toggle.addState(o))),i(e).resize()})}),e.StateToggler=function(){var e="jq-toggleState",t={hasWord:function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e)},addWord:function(e,t){if(!this.hasWord(e,t))return e+(e?" ":"")+t},removeWord:function(e,t){if(this.hasWord(e,t))return e.replace(new RegExp("(^|\\s)*"+t+"(\\s|$)*","g"),"")}};return{addState:function(n){var a=i.localStorage.get(e);a=a?t.addWord(a,n):n,i.localStorage.set(e,a)},removeState:function(n){var a=i.localStorage.get(e);a&&(a=t.removeWord(a,n),i.localStorage.set(e,a))},restoreState:function(t){var n=i.localStorage.get(e);n&&t.addClass(n)}}}}(window,document,window.jQuery),function(e,t,i){"use strict";var n,a,o=e("html"),r=e(t);e.support.transition=(n=function(){var e,t=i.body||i.documentElement,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:n},e.support.animation=(a=function(){var e,t=i.body||i.documentElement,n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:a},e.support.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},e.support.touch="ontouchstart"in t&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||t.DocumentTouch&&document instanceof t.DocumentTouch||t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints>0||t.navigator.pointerEnabled&&t.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver||null,e.Utils={},e.Utils.debounce=function(e,t,i){var n;return function(){var a=this,o=arguments,r=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(a,o)},t),r&&e.apply(a,o)}},e.Utils.removeCssRules=function(e){var t,i,n,a,o,r,s,l,d,c;e&&setTimeout(function(){try{for(c=document.styleSheets,a=0,s=c.length;a<s;a++){for(n=c[a],i=[],n.cssRules=n.cssRules,t=o=0,l=n.cssRules.length;o<l;t=++o)n.cssRules[t].type===CSSRule.STYLE_RULE&&e.test(n.cssRules[t].selectorText)&&i.unshift(t);for(r=0,d=i.length;r<d;r++)n.deleteRule(i[r])}}catch(e){}},0)},e.Utils.isInView=function(t,i){var n=e(t);if(!n.is(":visible"))return!1;var a=r.scrollLeft(),o=r.scrollTop(),s=n.offset(),l=s.left,d=s.top;return i=e.extend({topoffset:0,leftoffset:0},i),d+n.height()>=o&&d-i.topoffset<=o+r.height()&&l+n.width()>=a&&l-i.leftoffset<=a+r.width()},e.Utils.options=function(t){if(e.isPlainObject(t))return t;var i=t?t.indexOf("{"):-1,n={};if(-1!=i)try{n=new Function("","var json = "+t.substr(i)+"; return JSON.parse(JSON.stringify(json));")()}catch(e){}return n},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.langdirection="rtl"==o.attr("dir")?"right":"left",e(function(){e.support.mutationobserver&&new e.support.mutationobserver(e.Utils.debounce(function(t){e(i).trigger("domready")},300)).observe(document.body,{childList:!0,subtree:!0})}),o.addClass(e.support.touch?"touch":"no-touch")}(jQuery,window,document),function(e,t,i,n){"undefined"!=typeof screenfull&&i(function(){var n=i(t),a=i("[data-toggle-fullscreen]"),o=e.navigator.userAgent;function r(e){screenfull.isFullscreen?e.children("em").removeClass("fa-expand").addClass("fa-compress"):e.children("em").removeClass("fa-compress").addClass("fa-expand")}(o.indexOf("MSIE ")>0||o.match(/Trident.*rv\:11\./))&&a.addClass("hide"),a.is(":visible")&&(a.on("click",function(e){e.preventDefault(),screenfull.enabled?(screenfull.toggle(),r(a)):console.log("Fullscreen not enabled")}),screenfull.raw&&screenfull.raw.fullscreenchange&&n.on(screenfull.raw.fullscreenchange,function(){r(a)}))})}(window,document,window.jQuery),$(function(){!function(){var e,t=$(".datepicker");if(0==t.length)return;$.each(t,function(){(e={lazyInit:!0,scrollInput:!1,format:"Y-m-d H:i"}).formatTime="H:i";var t=$(this).data("date-end-date"),i=$(this).data("date-min-date");t&&(e.maxDate=t),i&&(e.minDate=i),$(this).datetimepicker(e)})}(),$(".monthyear").datepicker({autoclose:!0,startView:1,format:"yyyy-mm",minViewMode:1}),$(".only_datepicker").datepicker({autoclose:!0,format:"yyyy-mm-dd",todayBtn:"linked"}),$(".years").datepicker({startView:2,format:"yyyy",minViewMode:2,autoclose:!0}),$(".textarea").summernote({codemirror:{theme:"monokai"}}),$(".note-toolbar .note-fontsize,.note-toolbar .note-help,.note-toolbar .note-fontname,.note-toolbar .note-height,.note-toolbar .note-table").remove(),$(".textarea_").summernote({height:200,codemirror:{theme:"monokai"}}),$(".note-toolbar .note-fontsize,.note-toolbar .note-help,.note-toolbar .note-fontname,.note-toolbar .note-height,.note-toolbar .note-table").remove(),$(".textarea_lg").summernote({height:300,codemirror:{theme:"monokai"}}),$(".note-toolbar .note-fontsize,.note-toolbar .note-help,.note-toolbar .note-fontname,.note-toolbar .note-height,.note-toolbar .note-table").remove(),$(".textarea-md").summernote({height:90,codemirror:{theme:"monokai"}}),$(".note-toolbar .note-fontsize,.note-toolbar .note-help,.note-toolbar .note-fontname,.note-toolbar .note-height,.note-toolbar .note-table").remove(),$(".timepicker").timepicker(),$(".timepicker2").timepicker({minuteStep:1,showSeconds:!1,showMeridian:!1,defaultTime:!1})}),function(e,t,i,n){i(function(){var t=i(e),n="js-is-in-view";function a(e,t){!e.hasClass(n)&&i.Utils.isInView(e,{topoffset:-20})&&o(e,t)}function o(e,t){e.ClassyLoader(t).addClass(n)}i("[data-classyloader]").each(function(){var e=i(this),n=e.data();n&&(n.triggerInView?(t.scroll(function(){a(e,n)}),a(e,n)):o(e,n))})})}(window,document,window.jQuery),function(e,t,i,n){i(function(){if(i.fn.easyPieChart){var e={animate:{duration:800,enabled:!0},barColor:APP_COLORS.success,trackColor:!1,scaleColor:!1,lineWidth:10,lineCap:"circle"};i(".easypiechart").easyPieChart(e);var t={animate:{duration:800,enabled:!0},barColor:APP_COLORS.warning,trackColor:!1,scaleColor:!1,lineWidth:4,lineCap:"circle"};i("#easypie2").easyPieChart(t);var n={animate:{duration:800,enabled:!0},barColor:APP_COLORS.danger,trackColor:APP_COLORS["gray-light"],scaleColor:APP_COLORS.gray,size:200,lineWidth:15,lineCap:"circle"};i("#easypie3").easyPieChart(n);var a={animate:{duration:800,enabled:!0},barColor:APP_COLORS.danger,trackColor:APP_COLORS.yellow,scaleColor:APP_COLORS["gray-dark"],lineWidth:10,lineCap:"circle"};i("#easypie4").easyPieChart(a)}})}(window,document,window.jQuery),function(e,t,i,n){i(function(){var e=i("#maincss"),t=i("#bscss");i("#chk-rtl").on("change",function(){e.attr("href",this.checked?"../../assets/css/app-rtl.css":"../../assets/css/app.css"),t.attr("href",this.checked?"../../assets/css/bootstrap-rtl.css":"../../assets/css/bootstrap.css")})})}(window,document,window.jQuery),function(e,t,i,n){i(function(){i("[data-load-css]").on("click",function(e){var t=i(this);t.is("a")&&e.preventDefault();var n=t.data("loadCss");n?function(e){var t="autoloaded-stylesheet",n=i("#"+t).attr("id",t+"-old");i("head").append(i("<link/>").attr({id:t,rel:"stylesheet",href:e})),n.length&&n.remove();return i("#"+t)}(n)||i.error("Error creating stylesheet link element."):i.error("No stylesheet location defined.")})})}(window,document,window.jQuery),function(e,t,i,n){i(function(){i("[data-check-all]").on("change",function(){var e=i(this),t=e.index()+1,n=e.find('input[type="checkbox"]');e.parents("table").find("tbody > tr > td:nth-child("+t+') input[type="checkbox"]').prop("checked",n[0].checked)})}),i(function(){i("#parent_present").on("change",function(){i(".child_present").prop("checked",i(this).prop("checked"))}),i(".child_present").on("change",function(){i(".child_present").prop(!!i(".child_present:checked").length)}),i("#parent_absent").on("change",function(){i(".child_absent").prop("checked",i(this).prop("checked"))}),i(".child_absent").on("change",function(){i(".child_absent").prop(!!i(".child_absent:checked").length)})}),i("#check_related").change(function(){i(".company").hide(),i(".company").attr("disabled","disabled")}),"2"==i("#client_stusus").val()?i(".company").removeAttr("disabled"):(i(".company").attr("disabled","disabled"),i(".company").hide()),i(function(){i('input[id="use_postmark"]').click(function(){this.checked?i("div#postmark_config").show():i("div#postmark_config").hide()}),i('input[id="for_leads"]').click(function(){this.checked?i("div#imap_search_for_leads").show():i("div#imap_search_for_leads").hide()}),i('input[id="for_tickets"]').click(function(){this.checked?i("div#imap_search_for_tickets").show():i("div#imap_search_for_tickets").hide()}),i("#protocol").change(function(){"smtp"==i("#protocol").val()?i("#smtp_config").show():i("#smtp_config").hide()}),i("#new_departments").change(function(){""!=i("#new_departments").val()?(i(".new_departments").hide(),i(".new_departments").attr("disabled","disabled")):(i(".new_departments").show(),i(".new_departments").removeAttr("disabled"))}),i("#search_type").change(function(){"employee"==i("#search_type").val()?(i(".by_employee").show().attr("required",!0),i(".by_month").hide().removeAttr("required"),i(".by_period").hide().removeAttr("required"),i(".by_activities").hide().removeAttr("required")):"month"==i("#search_type").val()?(i(".by_employee").hide().removeAttr("required"),i(".by_month").show().attr("required",!0),i(".by_period").hide().removeAttr("required"),i(".by_activities").hide().removeAttr("required")):"period"==i("#search_type").val()?(i(".by_employee").hide().removeAttr("required"),i(".by_month").hide().removeAttr("required"),i(".by_period").show().attr("required",!0),i(".by_activities").hide().removeAttr("required")):(i(".by_employee").hide().removeAttr("required"),i(".by_month").hide().removeAttr("required"),i(".by_period").hide().removeAttr("required"),i(".by_activities").hide().removeAttr("required"),i(".all_payment_history").hide())}),i("#goal_type_id").change(function(){"2"==i("#goal_type_id").val()||"4"==i("#goal_type_id").val()?(i("#account").show(),t.getElementById("account_id").disabled=!1):(i("#account").hide(),t.getElementById("account_id").disabled=!0)}),i("input.select_one").on("change",function(){i("input.select_one").not(this).prop("checked",!1)}),i(".select_box").select2({}),i(".select_2_to").select2({tags:!0,allowClear:!0,placeholder:"To : Select or Write",tokenSeparators:[","," "]}),i(".select_multi").select2({allowClear:!0,placeholder:"Select Multiple",tokenSeparators:[","," "]}),i('input[id="same_as_company"]').click(function(){this.checked&&(i("input[name='billing_phone']").val(i("input[name='phone']").val()),i("input[name='billing_email']").val(i("input[name='email']").val()),i("textarea[name='billing_address']").val(i("textarea[name='address']").val()),i("input[name='billing_city']").val(i("input[name='city']").val()),i("input[name='billing_state']").val(i("input[name='state']").val()),i("input[name='billing_country']").val(i("input[name='country']").val()))}),i('input[id="same_as_billing"]').click(function(){this.checked&&(i("input[name='shipping_phone']").val(i("input[name='billing_phone']").val()),i("input[name='shipping_email']").val(i("input[name='billing_email']").val()),i("textarea[name='shipping_address']").val(i("textarea[name='billing_address']").val()),i("input[name='shipping_city']").val(i("input[name='billing_city']").val()),i("input[name='shipping_state']").val(i("input[name='billing_state']").val()),i("input[name='shipping_country']").val(i("input[name='billing_country']").val()))}),i('input[id="same_time"]').click(function(){this.checked?(i(".same_time").show(),i(".different_time").hide(),i(".different_time_input").attr("disabled","disabled"),i(".disabled").attr("disabled","disabled"),i(".same_time").removeAttr("disabled")):(i(".same_time").hide(),i(".same_time").attr("disabled","disabled"))}),i('input[id="different_time"]').click(function(){this.checked?(i(".same_time").hide(),i(".different_time").show(),i(".different_time_input").removeAttr("disabled"),i(".same_time").attr("disabled","disabled")):(i(".same_time").hide(),i(".different_time_input").attr("disabled","disabled"),i(".same_time").attr("disabled","disabled"))}),i(".disabled").attr("disabled","disabled"),i(".different_time_input").click(function(){var e=i(this).val();this.checked?(i("#different_time_"+e).show(),i(".different_time_hours_"+e).removeAttr("disabled"),i(".different_time_hours_"+e).removeClass("disabled")):(i("#different_time_"+e).hide(),i(".different_time_hours_"+e).attr("disabled","disabled"))}),i('input[id="fixed_rate"]').click(function(){this.checked?(i("div.fixed_price").show(),i("div.hourly_rate").hide(),i("div.hourly_rate").removeClass("hidden")):(i("div.fixed_price").hide(),i("div.hourly_rate").show(),i("div.fixed_price").removeClass("hidden"),i("div.hourly_rate").removeClass("hidden"))})})}(window,document,window.jQuery),function(e,t,i,n){i(function(){i("[data-sparkline]").each(function(){var t=i(this),n=t.data(),a=n.values&&n.values.split(",");n.type=n.type||"bar",n.disableHiddenCheck=!0,t.sparkline(a,n),n.resize&&i(e).resize(function(){t.sparkline(a,n)})})}),i("body").on("click","[data-act=ajax-request]",function(){if(1==confirm(ldelete_confirm)){var e={},t=i(this),n=t.attr("data-action-url"),a=t.attr("data-remove-on-success"),o=t.attr("data-remove-on-click"),r=t.attr("data-fade-out-on-success"),s=t.attr("data-fade-out-on-click"),l=(t.attr("data-inline-loader"),t.attr("data-reload-on-success")),d="";if(t.attr("data-real-target")?d=i(t.attr("data-real-target")):t.attr("data-closest-target")&&(d=t.closest(t.attr("data-closest-target"))),!n)return console.log("Ajax Request: Set data-action-url!"),!1;o&&i(o).length&&i(o).remove(),s&&i(s).length&&i(s).fadeOut(function(){i(this).remove()}),t.each(function(){i.each(this.attributes,function(){if(this.specified&&this.name.match("^data-post-")){var t=this.name.replace("data-post-","");e[t]=this.value}})}),ajaxRequestXhr=i.ajax({url:n,data:e,cache:!1,type:"POST",success:function(e){var t=JSON.parse(e);toastr[t.status](t.message),l&&location.reload(),a&&i(a).length&&i(a).remove(),r&&i(r).length&&i(r).fadeOut(function(){i(this).remove()}),d.length&&d.html(e)},statusCode:{404:function(){toastr.error("404: Page not found.")}},error:function(){toastr.error("500: Internal Server Error.")}})}})}(window,document,window.jQuery),$(function(){$("#parent_present").on("change",function(){$(".child_present").prop("checked",$(this).prop("checked"))}),$(".child_present").on("change",function(){$(".child_present").prop(!!$(".child_present:checked").length)}),$("#parent_absent").on("change",function(){$(".child_absent").prop("checked",$(this).prop("checked"))}),$(".child_absent").on("change",function(){$(".child_absent").prop(!!$(".child_absent:checked").length)})}),$(document).ready(function(){$("#add_more_comments_attachement").click(function(){var e=$('<div class="form-group" style="margin-bottom: 0px">\n        <div class="col-sm-8">\n        <div class="fileinput fileinput-new" data-provides="fileinput">\n<span class="btn btn-default btn-file"><span class="fileinput-new" >Select file</span><span class="fileinput-exists" >Change</span><input type="file" name="comments_attachment[]" ></span> <span class="fileinput-filename"></span><a href="#" class="close fileinput-exists" data-dismiss="fileinput" style="float: none;">&times;</a></div></div>\n<div class="col-sm-4">\n<strong>\n<a href="javascript:void(0);" class="c_remCF"><i class="fa fa-times"></i>&nbsp;Remove</a></strong></div>');$("#new_comments_attachement").append(e)}),$("#new_comments_attachement").on("click",".c_remCF",function(){$(this).parent().parent().parent().remove()})});var doc_title=document.title;function read_inline(e){$.get(base_url+"admin/global_controller/read_inline/"+e,function(){var t=$("body").find('.notification-li[data-notification-id="'+e+'"]');t.find(".n-link,.n-box-all").removeClass("unread"),t.find(".mark-as-read-inline").tooltip("destroy").remove()})}function mark_all_as_read(){$.get(base_url+"admin/global_controller/mark_all_as_read/",function(){var e=$("body").find(".notification-li");e.find(".n-link,.n-box-all").removeClass("unread"),e.find(".mark-as-read-inline").tooltip("destroy").remove()})}function fetch_notifications(e){$.get(base_url+"admin/global_controller/get_notification",function(e){var t=$("li.notifications");t.html(e.html);var i=t.find(".notifications-list").attr("data-total-unread");document.title=i>0?"("+i+") "+doc_title:doc_title,setTimeout(function(){var i=e.notificationsIds;i.length>0&&$.each(i,function(e,i){var n='li[data-notification-id="'+i+'"]',a=t.find(n);$.notify("",{title:new_notification,body:a.find(".n-title").text(),requireInteraction:!0,icon:a.find(".n-image").attr("src"),tag:i}).close(function(){$.get(base_url+"admin/global_controller/mark_desktop_notification_as_read/"+i,function(){var e=t.find(".unraed-total");t.find('li[data-notification-id="'+i+'"] .n-box').removeClass("unread");var n=e.text();n=n.trim(),(n-=1)>0?(document.title="("+n+") "+doc_title,e.html(n)):(document.title=doc_title,e.addClass("hide"))})}).click(function(e){parent.focus(),window.focus(),setTimeout(function(){t.find(n+" .n-link").addClass("desktopClick").click(),e.target.close()},70)})})},200)},"json")}function init_datepicker(){var e,t=$(".datetimepicker");0!=t.length&&$.each(t,function(){(e={lazyInit:!0,scrollInput:!1,format:"Y-m-d H:i"}).formatTime="H:i";var t=$(this).data("date-end-date"),i=$(this).data("date-min-date");t&&(e.maxDate=t),i&&(e.minDate=i),$(this).datetimepicker(e)})}$(function(){total_unread_notifications>0&&(document.title="("+total_unread_notifications+") "+doc_title),$("body").on("click",".notification_link",function(){var e=$(this).data("link");e.split("#")[1]||(window.location.href=e)}),$("body").on("click",".notifications a.n-top, .notification_link",function(e){e.preventDefault();var t,i=$(this);t=(t=i.hasClass("notification_link")?i.data("link"):e.currentTarget.href).split("#");i.hasClass("desktopClick")||i.parent("li").find(".mark-as-read-inline").click(),setTimeout(function(){window.location.href=t},50)}),$(".notifications").on("show.bs.dropdown",function(){clearInterval(autocheck_notifications_timer_id),$("li.notifications").find(".notifications-list").attr("data-total-unread")>0&&$.post(base_url+"admin/global_controller/mark_as_read").done(function(e){1==(e=JSON.parse(e)).success&&(document.title=doc_title,$(".icon-notifications").addClass("hide"))})}),"Notification"in window&&"1"==desktop_notifications&&Notification.requestPermission(),0!=auto_check_for_new_notifications&&(autocheck_notifications_timer_id=setInterval(function(){fetch_notifications()},1e3*auto_check_for_new_notifications))}),function(e){e.fn.appForm=function(t){var i=e.extend({},{ajaxSubmit:!0,isModal:!0,dataType:"json",onModalClose:function(){},onSuccess:function(){},onError:function(){return!0},onSubmit:function(){},onAjaxSuccess:function(){},beforeAjaxSubmit:function(e,t,i){}},t);function n(t,i){e.validator.addMethod("greaterThanOrEqual",function(t,i,n){var a=n;return!n||0!==n.indexOf("#")&&0!==n.indexOf(".")||(a=e(n).val()),/Invalid|NaN/.test(new Date(t))?isNaN(t)&&isNaN(a)||Number(t)>=Number(a):new Date(t)>=new Date(a)},"Must be greater than {0}."),e(t).validate({submitHandler:function(e){if(!i)return!0;i(e)},highlight:function(t){e(t).closest(".form-group").addClass("has-error")},unhighlight:function(t){e(t).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block",ignore:":hidden:not(.validate-hidden)",errorPlacement:function(e,t){t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter(t)}}),e(".validate-hidden").click(function(){e(this).closest(".form-group").removeClass("has-error").find(".help-block").hide()})}this.each(function(){i.ajaxSubmit?n(e(this),function(t){i.onSubmit(),i.isModal&&function(t){var i=t.height()-80;i>0&&(i=Math.floor(i/2));t.append("<div class='modal-mask'><div class='circle-loader'></div></div>");var n=t.outerHeight();e(".modal-mask").css({width:t.width()+30+"px",height:n+"px","padding-top":i+"px"}),t.closest(".modal-dialog").find('[type="submit"]').attr("disabled","disabled")}(e("#ajaxModalContent").find(".modal-body")),e(t).ajaxSubmit({dataType:i.dataType,beforeSubmit:function(e,t,n){i.beforeAjaxSubmit(e,t,n)},success:function(t){i.onAjaxSuccess(t),"success"==t.status?(i.onSuccess(t),i.isModal&&function(t){t&&(e(".modal-mask").html("<div class='circle-done'><i class='fa fa-check'></i></div>"),setTimeout(function(){e(".modal-mask").find(".circle-done").addClass("ok")},30));setTimeout(function(){e(".modal-mask").remove(),e("#ajaxModal").modal("toggle"),i.onModalClose()},1e3)}(!0)):i.onError(t)&&(i.isModal?(e(".modal-body").closest(".modal-dialog").find('[type="submit"]').removeAttr("disabled"),e(".modal-mask").remove(),t.message&&toastr[t.status](t.message)):t.message&&toastr[t.status](t.message))}})}):n(e(this))})}}(jQuery),jQuery.fn.replaceClass=function(e,t){return this.removeClass(e).addClass(t)},initScrollbar=function(e,t){t||(t={});var i=$.extend({},{theme:"minimal-dark",autoExpandScrollbar:!0,keyboard:{enable:!0,scrollType:"stepless",scrollAmount:40},mouseWheelPixels:300,scrollInertia:60,mouseWheel:{scrollAmount:188,normalizeDelta:!0}},t);$.fn.mCustomScrollbar&&$(e).mCustomScrollbar(i)},init_datepicker();